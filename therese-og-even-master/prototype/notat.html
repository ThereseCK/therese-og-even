ting som skal være med:

--> registrer
--> book knapp inni informasjonsstedene
--> min side * oversikt over påmeldte kurs
                * knapp til min profil med kontakt opplysninger
                * ender oplysnings knapp
--> starter med oversikt over mnd. 
            * knapp til kursoversikt denne mnd
            * knapp til ukeoversikt
            * til ukeoversikt
            * fargekoder til kursene
            * onclick på dagene til dagoversikt
            * kan bookes i dag og uke kalender
            * admin skal ha legg til knapp i kalender
                --> legg til kurs (LANGE 8 UKERS--> mulighet for å legge inn flere datoer)
                --> legg til event (enkeltstående gruppetimer--> med mulighet får å legge inn flere datoer)
                --> legg til session ( single en til en timer- legge til info)
                --> legg til opptatt /ikke til stede
            --> se hvem som er meldt på de ulike tingen og da kontaktinformasjonen
            * kunne legge til betalingsinformasjon og annen relevant info om de forskjellige tingene
--> hjem --> informasjon om bedriften / Helle og noen bilder
--> hvis logget in hvis logg ut
-->  admin sin side: 
        * Endre informasjon om kurs/event / session og hjemsiden
        * legge til info om nytt event/ kurs / session 
          -> en select- 
        * hennes hjem side er oversikt over dagen som er. skal kunne bla frem og tilbake
        samt se informasjon.


        function getAppointments(date) {
             var filteredList = [];
            for (var i = 0; i < appointments.length; i++) {
              var appointment = appointments[i];
          if (appointment.date.getFullYear() == date.getFullYear()
                  && appointment.date.getMonth() == date.getMonth()
                  && appointment.date.getDate() == date.getDate()) {
               filteredList.push(appointment);
              }
        }
            return filteredList;
          }
  
          function showDate(year, month, day) {
            var date = new Date(year, month, day);
             var appointmentsToday = getAppointments(date);
              alert(JSON.stringify(appointmentsToday));
          
               //return JSON.stringify(appointmentsToday) // få ut en string
          }




          //DIV KALENDER

          function showMonth() {
            let mondayMonthStart = model.current.monthStartMonday;
            if (mondayMonthStart === null) {
                mondayMonthStart = model.current.monthStartMonday = getMondayOfFirstWeekOfMonth(new Date());
            }
            document.getElementById('content').innerHTML = `                
            <button class="weekCalendar" onclick="switchMonth(-1)">&lt;&lt;</button>
            <button class="weekCalendar" onclick="weekCalendar()">Uke</button>
            <button class="weekCalendar" onclick="switchMonth(+1)">&gt;&gt;</button> 
            ${createWeekdayNamesHtml()}
            <div class="week">${createWeekHtml(mondayMonthStart)}</div>
            <div class="week">${createWeekHtml(addDays(mondayMonthStart, 7))}</div>
            <div class="week">${createWeekHtml(addDays(mondayMonthStart, 14))}</div>
            <div class="week">${createWeekHtml(addDays(mondayMonthStart, 21))}</div>
            <div class="week">${createWeekHtml(addDays(mondayMonthStart, 28))}</div>
            <br>
            <p class="ccRed">Rød: Yoga</p>
            <p class="ccBlue">Blå: Events</p>
            <p class="ccGreen">Grønn: Sessions</p>
            `;
        }
        
        function createWeekdayNamesHtml() {
            return model.calender.days.map(d => ` 
                <div class="weekday week">${d}</div>
                `).join(' ');
        }
        
        function getMondayOfFirstWeekOfMonth(date) {
            while (date.getDate() >= 7) {
                date = addDays(date, -7);
            }
            return date;
        }
        
        function createWeekHtml(monday) {
            var dayCount = 7;
            let html = '';
        
            for (var i = 0; i < dayCount; i++) {
                var date = addDays(monday, i);
                var dayName = model.calender.days[date.getDay()];
                // var appointmentsToday = getAppointments(date);
                html += ` 
                            <div class="weekday" onclick="dayDate()">
                                <b> ${date.toLocaleDateString()}</b><br/>`;
        
                for (item of model.categories) {
                    if (date.toLocaleDateString() == item.date) {
                        html += `<p><b>${item.color}</b></p>`
                    }
        
                }
        
        
                html += `</div>`;
        
                //her! if admin cal. is chosen - show extra info here + +
            }
            return html;
        }
        
        
        function dayDate() { //det er her lista over dagens events   - sende med påklikket dag, bruke den til å loope i modellen
            document.getElementById('content').innerHTML = `  
                    ${model.categories.filter(l => l.date === '8.4.2020').
                    map(n => `<ul>${n.time.timeslot} <br>${n.name}<br><button class="infoButton"> Meld på </button> </ul>`).join(' ')
                }
                   
                    `;
        }
        
        
        function getMondayOfCurrentWeek() {
            var today = new Date();
            var diffToMonday = 1 - today.getDay();
            var monday = addDays(today, diffToMonday);
            return monday;
        }
        
        function addDays(date, dayCount) {
            return new Date(date.getTime() + (dayCount * 24 * 60 * 60 * 1000));
        }
        
        function switchMonth(x) {
            model.current.monthStartMonday = addDays(model.current.monthStartMonday, x * 7);
            showMonth();
        }




        var currentMondayDate = getMondayOfCurrentWeek();
weekCalendar();
function weekCalendar(){
    document.getElementById('content').innerHTML = '';
    
document.getElementById('content').innerHTML += `<button class="weekCalendar" onclick="switchWeek(-1)">&lt;&lt;</button>
<button class="weekCalendar" onclick="showMonth()">Måned</button>
<button class="weekCalendar" onclick="switchWeek(+1)">&gt;&gt;</button>
<table class="weekday">
<tr>
<th> </th>
${weekLoop()}
</tr>
${timeLoop()}

<tr>
${appointments()}
</tr>

</table>
    `;
}




function timeLoop(){
    return model.calender.timeSlot.map(n => `<tr class="weekday"><td>${n}</td></tr>`).join(' ');
    }

    function weekLoop(){
        return model.calender.days.map(n => `<th class="weekday">${n}</th>`).join(' ');
        }


    //     <table> 
    //     <tr>
    //         <th> </th>
           
    //         ${model.days.map(d => `
            
    //         <th>${d}</th>`).join('') }
           
    //     </tr>
      
    //     ${createHtmlForTimeSlot( selectedEvents)}
     
    //     <tr class="pause"> 
    //         <th> 10.00 - 10.20 </th>
    //         <th colspan="5"> FELLES PAUSE </th>
    //     </tr>
    //     ${createHtmlForTimeSlot(1, selectedEvents)}
    //     <tr class="pause"> 
    //         <th> 11.20 - 12.20 </th>
    //         <th colspan="5"> Lunsj </th>
    //     </tr>
    //     ${createHtmlForTimeSlot(2, selectedEvents)}
    //     <tr class="pause"> 
    //         <th> 13.20 - 13.40 </th>
    //         <th colspan="5"> FELLES PAUSE </th>
    //     </tr>
    //     ${createHtmlForTimeSlot(3, selectedEvents)}
    //     <tr class="pause"> 
    //         <th> 14.40 - 15.00 </th>
    //         <th colspan="5"> Oppsummering og avslutning i team der alle deler det viktigste de har lært. Individuell oppsummering med egen logg til slutt</th>
    //     </tr>
    // </table>

  